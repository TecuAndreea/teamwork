
@{

    Layout = "_ClientLayout";
    @model ProductsAndProducersListViewModel
}

<form class="form-row" method="get" style="margin-bottom:2em; margin-top:2em">
    <div class="col-sm-7">
        <input class="form-control" type="text" asp-for="SearchTerm" placeholder="Cauta.." margin-right:1em">
    </div>

    <div class="col-sm-2">
        <select class="form-control" asp-for="FilterTerm" style="margin-right: 1em">
            <option value="default">Toti producatorii</option>
            @foreach (var producer in Model.Producers)
            {
                <option value="@producer.Name">@producer.Name</option>
            }
        </select>
    </div>

    <div class="col-sm-3">
        <button type="submit" class="btn btn-secondary"><i class="fa fa-search">  Cauta</i></button>
    </div>
</form>


<div class="card-columns">
    @foreach (var product in Model.Products)
    {
        <div class="card">
            <img class="card-img" src="@Url.Content(product.PhotoUrl)" />
            <div class="card-body">
                <h3 class="card-title">@product.Name</h3>
                <h5 class="card-text">@product.Price lei/ @product.Weight kg</h5>
                <h6>@product.Producer.Name</h6>
                <p> Comanda minima /producator: @product.Producer.MinimumOrder lei</p>
                <p>Stoc disponibil: @(product.AvailableStock * product.Weight) kg</p>
                @if (product.AvailableStock != 0)
                {
                    <a id="addToCart" disabled class="btn" asp-area="" asp-controller="ShoppingCart" asp-action="AddProduct" asp-route-productId="@product.ProductId">Adauga in cos</a>
                }
                else
                {
                    <button type="button" class="btn btn-danger" disabled id="addToCartInavailable">Stoc indisponibil</button>
                }


            </div>
        </div>
    }
</div>